{% extends "emails/base.html" %}

{% block title %}Demo Assigned - {{ demo_request.demo.title }} - CHRP India{% endblock %}

{% block preheader %}New demo assigned for {{ demo_request.requested_date|date:"F d, Y" }}{% endblock %}

{% block content %}
<!-- Assignment Icon -->
<table width="100%" cellpadding="0" cellspacing="0" border="0" style="margin: 0 0 25px 0;">
    <tr>
        <td align="center">
            <div style="width: 80px; height: 80px; background-color: #8b5cf6; background-image: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 50%; display: inline-block; text-align: center; line-height: 80px; margin-bottom: 20px;">
                <span style="font-size: 40px; line-height: 80px; vertical-align: middle; color: #ffffff;">üìã</span>
            </div>
        </td>
    </tr>
</table>

<!-- Main Heading -->
<table width="100%" cellpadding="0" cellspacing="0" border="0">
    <tr>
        <td align="center">
            <h1 style="color: #1f2937 !important; font-size: 28px; font-weight: 700; margin: 0 0 10px 0; mso-line-height-rule: exactly; line-height: 36px;">
                üìã New Demo Assigned to You
            </h1>
            <p style="color: #8b5cf6 !important; font-size: 16px; margin: 0 0 30px 0; font-weight: 600; mso-line-height-rule: exactly; line-height: 24px;">
                {{ demo_request.demo.title }} - {{ demo_request.user.get_full_name }}
            </p>
        </td>
    </tr>
</table>

<!-- Greeting -->
<p style="color: #374151 !important; font-size: 16px; line-height: 24px; margin: 0 0 10px 0; mso-line-height-rule: exactly;">
    Hi <strong style="color: #1f2937 !important;">{{ demo_request.assigned_to.first_name }}</strong>! üëã
</p>

<p style="color: #374151 !important; font-size: 16px; line-height: 24px; margin: 0 0 25px 0; mso-line-height-rule: exactly;">
    You have been assigned to conduct a demo. Please review the details below and prepare accordingly.
</p>

<!-- Assignment Card -->
<table width="100%" cellpadding="0" cellspacing="0" border="0" bgcolor="#ede9fe" style="background-color: #ede9fe; border-left: 5px solid #8b5cf6; border-radius: 8px; margin: 0 0 25px 0;">
    <tr>
        <td style="padding: 20px;">
            <p style="color: #5b21b6 !important; font-size: 16px; margin: 0 0 10px 0; font-weight: 600; mso-line-height-rule: exactly; line-height: 24px;">
                ‚úì Assignment Confirmed
            </p>
            <p style="color: #6b21a8 !important; font-size: 14px; margin: 0; mso-line-height-rule: exactly; line-height: 20px;">
                {% if demo_request.assigned_by %}
                Assigned by <strong>{{ demo_request.assigned_by.get_full_name }}</strong> on {{ demo_request.assigned_at|date:"F d, Y - g:i A" }}
                {% else %}
                Assigned on {{ demo_request.assigned_at|date:"F d, Y - g:i A" }}
                {% endif %}
            </p>
        </td>
    </tr>
</table>

<!-- Demo Schedule Box -->
<table width="100%" cellpadding="0" cellspacing="0" border="0" bgcolor="#dbeafe" style="background-color: #dbeafe; border-radius: 12px; margin: 0 0 25px 0; border: 2px solid #3b82f6; box-shadow: 0 4px 6px rgba(59, 130, 246, 0.2);">
    <tr>
        <td style="padding: 25px;">
            <table width="100%" cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td align="center">
                        <p style="color: #1e40af !important; font-size: 16px; margin: 0 0 20px 0; font-weight: 700; mso-line-height-rule: exactly; line-height: 24px; text-transform: uppercase; letter-spacing: 0.5px;">
                            üìÖ Your Demo Schedule
                        </p>
                    </td>
                </tr>
            </table>
            
            <!-- Date & Time -->
            <table width="100%" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff" style="background-color: #ffffff; border-radius: 8px; margin: 0 0 15px 0; padding: 15px;">
                <tr>
                    <td>
                        <table width="100%" cellpadding="0" cellspacing="0" border="0">
                            <tr>
                                <td style="padding: 8px 0;">
                                    <table cellpadding="0" cellspacing="0" border="0" width="100%">
                                        <tr>
                                            <td style="color: #1e40af !important; font-size: 14px; font-weight: 600; width: 40%; mso-line-height-rule: exactly; line-height: 20px;">üìÖ Date:</td>
                                            <td style="color: #1f2937 !important; font-size: 16px; font-weight: 700; mso-line-height-rule: exactly; line-height: 20px;">
                                                {% if demo_request.confirmed_date %}
                                                    {{ demo_request.confirmed_date|date:"l, F d, Y" }}
                                                {% else %}
                                                    {{ demo_request.requested_date|date:"l, F d, Y" }}
                                                {% endif %}
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 8px 0;">
                                    <table cellpadding="0" cellspacing="0" border="0" width="100%">
                                        <tr>
                                            <td style="color: #1e40af !important; font-size: 14px; font-weight: 600; width: 40%; mso-line-height-rule: exactly; line-height: 20px;">‚è∞ Time:</td>
                                            <td style="color: #1f2937 !important; font-size: 16px; font-weight: 700; mso-line-height-rule: exactly; line-height: 20px;">
                                                {% if demo_request.confirmed_time_slot %}
                                                    {{ demo_request.confirmed_time_slot.start_time|time:"g:i A" }} - {{ demo_request.confirmed_time_slot.end_time|time:"g:i A" }}
                                                {% else %}
                                                    {{ demo_request.requested_time_slot.start_time|time:"g:i A" }} - {{ demo_request.requested_time_slot.end_time|time:"g:i A" }}
                                                {% endif %}
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 8px 0;">
                                    <table cellpadding="0" cellspacing="0" border="0" width="100%">
                                        <tr>
                                            <td style="color: #1e40af !important; font-size: 14px; font-weight: 600; width: 40%; mso-line-height-rule: exactly; line-height: 20px;">üìç Status:</td>
                                            <td>
                                                <table cellpadding="0" cellspacing="0" border="0" bgcolor="#10b981" style="background-color: #10b981; border-radius: 4px; display: inline-block;">
                                                    <tr>
                                                        <td style="padding: 4px 10px;">
                                                            <span style="color: #ffffff !important; font-size: 12px; font-weight: 600; text-transform: uppercase;">‚úì {{ demo_request.get_status_display }}</span>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>

            <!-- Demo Details -->
            <table width="100%" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff" style="background-color: #ffffff; border-radius: 8px; padding: 15px;">
                <tr>
                    <td>
                        <table width="100%" cellpadding="0" cellspacing="0" border="0">
                            <tr>
                                <td style="padding: 8px 0;">
                                    <table cellpadding="0" cellspacing="0" border="0" width="100%">
                                        <tr>
                                            <td style="color: #1e40af !important; font-size: 14px; font-weight: 600; width: 40%; mso-line-height-rule: exactly; line-height: 20px;">üíª Demo:</td>
                                            <td style="color: #1f2937 !important; font-size: 14px; font-weight: 600; mso-line-height-rule: exactly; line-height: 20px;">{{ demo_request.demo.title }}</td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 8px 0;">
                                    <table cellpadding="0" cellspacing="0" border="0" width="100%">
                                        <tr>
                                            <td style="color: #1e40af !important; font-size: 14px; font-weight: 600; width: 40%; mso-line-height-rule: exactly; line-height: 20px;">üìÇ Type:</td>
                                            <td style="color: #6b7280 !important; font-size: 13px; mso-line-height-rule: exactly; line-height: 20px;">{{ demo_request.demo.get_demo_type_display }}</td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            {% if demo_request.demo.description %}
                            <tr>
                                <td style="padding: 8px 0;">
                                    <table cellpadding="0" cellspacing="0" border="0" width="100%">
                                        <tr>
                                            <td style="color: #1e40af !important; font-size: 14px; font-weight: 600; width: 40%; vertical-align: top; mso-line-height-rule: exactly; line-height: 20px;">üìù Description:</td>
                                            <td style="color: #6b7280 !important; font-size: 13px; mso-line-height-rule: exactly; line-height: 18px;">{{ demo_request.demo.description|truncatewords:30 }}</td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            {% endif %}
                        </table>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<!-- Customer Details Box -->
<table width="100%" cellpadding="0" cellspacing="0" border="0" bgcolor="#f0fdf4" style="background-color: #f0fdf4; border-radius: 8px; margin: 0 0 25px 0; border: 1px solid #bbf7d0;">
    <tr>
        <td style="padding: 20px;">
            <p style="color: #166534 !important; font-size: 15px; margin: 0 0 15px 0; font-weight: 600; mso-line-height-rule: exactly; line-height: 22px;">
                üë§ Customer Information
            </p>
            
            <table width="100%" cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td style="padding: 6px 0;">
                        <table cellpadding="0" cellspacing="0" border="0" width="100%">
                            <tr>
                                <td style="color: #15803d !important; font-size: 14px; font-weight: 600; width: 35%; mso-line-height-rule: exactly; line-height: 20px;">Name:</td>
                                <td style="color: #166534 !important; font-size: 14px; font-weight: 600; mso-line-height-rule: exactly; line-height: 20px;">{{ demo_request.user.get_full_name }}</td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td style="padding: 6px 0;">
                        <table cellpadding="0" cellspacing="0" border="0" width="100%">
                            <tr>
                                <td style="color: #15803d !important; font-size: 14px; font-weight: 600; width: 35%; mso-line-height-rule: exactly; line-height: 20px;">Email:</td>
                                <td style="color: #166534 !important; font-size: 14px; mso-line-height-rule: exactly; line-height: 20px;">
                                    <a href="mailto:{{ demo_request.user.email }}" style="color: #087fc2 !important; text-decoration: none;">{{ demo_request.user.email }}</a>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                {% if demo_request.user.mobile %}
                <tr>
                    <td style="padding: 6px 0;">
                        <table cellpadding="0" cellspacing="0" border="0" width="100%">
                            <tr>
                                <td style="color: #15803d !important; font-size: 14px; font-weight: 600; width: 35%; mso-line-height-rule: exactly; line-height: 20px;">Phone:</td>
                                <td style="color: #166534 !important; font-size: 14px; mso-line-height-rule: exactly; line-height: 20px;">
                                    <a href="tel:{{ demo_request.user.mobile }}" style="color: #087fc2 !important; text-decoration: none;">+91 {{ demo_request.user.mobile }}</a>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                {% endif %}
                {% if demo_request.user.company_name %}
                <tr>
                    <td style="padding: 6px 0;">
                        <table cellpadding="0" cellspacing="0" border="0" width="100%">
                            <tr>
                                <td style="color: #15803d !important; font-size: 14px; font-weight: 600; width: 35%; mso-line-height-rule: exactly; line-height: 20px;">Company:</td>
                                <td style="color: #166534 !important; font-size: 14px; mso-line-height-rule: exactly; line-height: 20px;">{{ demo_request.user.company_name }}</td>
                            </tr>
                        </table>
                    </td>
                </tr>
                {% endif %}
            </table>
        </td>
    </tr>
</table>

<!-- Request Details Box -->
<table width="100%" cellpadding="0" cellspacing="0" border="0" bgcolor="#f9fafb" style="background-color: #f9fafb; border-radius: 8px; margin: 0 0 25px 0; border: 1px solid #e5e7eb;">
    <tr>
        <td style="padding: 20px;">
            <p style="color: #374151 !important; font-size: 14px; margin: 0 0 15px 0; font-weight: 600; mso-line-height-rule: exactly; line-height: 20px;">
                üìã Request Information
            </p>
            
            <table width="100%" cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td style="padding: 6px 0;">
                        <table cellpadding="0" cellspacing="0" border="0" width="100%">
                            <tr>
                                <td style="color: #6b7280 !important; font-size: 13px; width: 35%; mso-line-height-rule: exactly; line-height: 20px;">Request ID:</td>
                                <td style="color: #374151 !important; font-size: 13px; font-weight: 600; mso-line-height-rule: exactly; line-height: 20px;">#{{ demo_request.id }}</td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td style="padding: 6px 0;">
                        <table cellpadding="0" cellspacing="0" border="0" width="100%">
                            <tr>
                                <td style="color: #6b7280 !important; font-size: 13px; width: 35%; mso-line-height-rule: exactly; line-height: 20px;">Requested On:</td>
                                <td style="color: #374151 !important; font-size: 13px; mso-line-height-rule: exactly; line-height: 20px;">{{ demo_request.created_at|date:"F d, Y - g:i A" }}</td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td style="padding: 6px 0;">
                        <table cellpadding="0" cellspacing="0" border="0" width="100%">
                            <tr>
                                <td style="color: #6b7280 !important; font-size: 13px; width: 35%; mso-line-height-rule: exactly; line-height: 20px;">Assigned On:</td>
                                <td style="color: #374151 !important; font-size: 13px; mso-line-height-rule: exactly; line-height: 20px;">{{ demo_request.assigned_at|date:"F d, Y - g:i A" }}</td>
                            </tr>
                        </table>
                    </td>
                </tr>
                {% if demo_request.assigned_by %}
                <tr>
                    <td style="padding: 6px 0;">
                        <table cellpadding="0" cellspacing="0" border="0" width="100%">
                            <tr>
                                <td style="color: #6b7280 !important; font-size: 13px; width: 35%; mso-line-height-rule: exactly; line-height: 20px;">Assigned By:</td>
                                <td style="color: #374151 !important; font-size: 13px; font-weight: 600; mso-line-height-rule: exactly; line-height: 20px;">{{ demo_request.assigned_by.get_full_name }}</td>
                            </tr>
                        </table>
                    </td>
                </tr>
                {% endif %}
                {% if demo_request.admin_notes %}
                <tr>
                    <td style="padding: 15px 0 0 0; border-top: 1px solid #e5e7eb;">
                        <table cellpadding="0" cellspacing="0" border="0" width="100%">
                            <tr>
                                <td style="color: #6b7280 !important; font-size: 13px; mso-line-height-rule: exactly; line-height: 20px;" colspan="2">
                                    <strong>Admin Notes:</strong><br>
                                    <span style="color: #374151 !important;">{{ demo_request.admin_notes }}</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                {% endif %}
                {% if demo_request.notes %}
                <tr>
                    <td style="padding: 15px 0 0 0; border-top: 1px solid #e5e7eb;">
                        <table cellpadding="0" cellspacing="0" border="0" width="100%">
                            <tr>
                                <td style="color: #6b7280 !important; font-size: 13px; mso-line-height-rule: exactly; line-height: 20px;" colspan="2">
                                    <strong>Customer Notes:</strong><br>
                                    <span style="color: #374151 !important;">{{ demo_request.notes }}</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                {% endif %}
            </table>
        </td>
    </tr>
</table>

<!-- CTA Button -->
<table width="100%" cellpadding="0" cellspacing="0" border="0" style="margin: 0 0 25px 0;">
    <tr>
        <td align="center">
            <table cellpadding="0" cellspacing="0" border="0" bgcolor="#8b5cf6" style="background-color: #8b5cf6; background-image: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 10px; box-shadow: 0 4px 6px rgba(139, 92, 246, 0.3);">
                <tr>
                    <td>
                        <a href="{{ site_url }}/admin/demo-requests/{{ demo_request.id }}/" style="display: inline-block; color: #ffffff !important; text-decoration: none; padding: 16px 40px; font-size: 16px; font-weight: 600; mso-line-height-rule: exactly; line-height: 24px;">
                            üìã View Full Details
                        </a>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<!-- Important Reminders -->
<table width="100%" cellpadding="0" cellspacing="0" border="0" bgcolor="#fef3c7" style="background-color: #fef3c7; border-left: 5px solid #f59e0b; border-radius: 8px; margin: 0 0 25px 0;">
    <tr>
        <td style="padding: 20px;">
            <p style="color: #92400e !important; font-size: 15px; margin: 0 0 12px 0; font-weight: 600; mso-line-height-rule: exactly; line-height: 22px;">
                ‚ö†Ô∏è Important Reminders
            </p>
            <table width="100%" cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td style="padding: 6px 0;">
                        <table cellpadding="0" cellspacing="0" border="0">
                            <tr>
                                <td style="padding-right: 10px; vertical-align: top;">
                                    <span style="color: #f59e0b !important; font-size: 16px;">‚Ä¢</span>
                                </td>
                                <td>
                                    <span style="color: #92400e !important; font-size: 13px; mso-line-height-rule: exactly; line-height: 20px;">Contact the customer at least 24 hours before the demo to confirm attendance</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td style="padding: 6px 0;">
                        <table cellpadding="0" cellspacing="0" border="0">
                            <tr>
                                <td style="padding-right: 10px; vertical-align: top;">
                                    <span style="color: #f59e0b !important; font-size: 16px;">‚Ä¢</span>
                                </td>
                                <td>
                                    <span style="color: #92400e !important; font-size: 13px; mso-line-height-rule: exactly; line-height: 20px;">Prepare all necessary materials, slides, and demo environment in advance</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td style="padding: 6px 0;">
                        <table cellpadding="0" cellspacing="0" border="0">
                            <tr>
                                <td style="padding-right: 10px; vertical-align: top;">
                                    <span style="color: #f59e0b !important; font-size: 16px;">‚Ä¢</span>
                                </td>
                                <td>
                                    <span style="color: #92400e !important; font-size: 13px; mso-line-height-rule: exactly; line-height: 20px;">Review customer information and tailor your presentation accordingly</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td style="padding: 6px 0;">
                        <table cellpadding="0" cellspacing="0" border="0">
                            <tr>
                                <td style="padding-right: 10px; vertical-align: top;">
                                    <span style="color: #f59e0b !important; font-size: 16px;">‚Ä¢</span>
                                </td>
                                <td>
                                    <span style="color: #92400e !important; font-size: 13px; mso-line-height-rule: exactly; line-height: 20px;">Update the request status after completing the demo</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<!-- Support Section -->
<table width="100%" cellpadding="0" cellspacing="0" border="0" style="margin: 25px 0 0 0; padding-top: 20px; border-top: 2px solid #e5e7eb;">
    <tr>
        <td align="center">
            <p style="color: #1f2937 !important; font-size: 14px; margin: 0 0 10px 0; font-weight: 600; mso-line-height-rule: exactly; line-height: 20px;">
                üìû Need Help?
            </p>
            <p style="color: #374151 !important; font-size: 13px; line-height: 20px; margin: 0; mso-line-height-rule: exactly;">
                Contact Admin Team<br>
                Email: <a href="mailto:admin@chrp-india.com" style="color: #087fc2 !important; text-decoration: none; font-weight: 600;">admin@chrp-india.com</a><br>
                Phone: <a href="tel:+918008987948" style="color: #087fc2 !important; text-decoration: none; font-weight: 600;">+91-8008987948</a>
            </p>
        </td>
    </tr>
</table>
{% endblock %}

{% block footer_text %}This is an automated notification from CHRP India Demo Portal.{% endblock %}